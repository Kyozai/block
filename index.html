<!DOCTYPE html>
<html>
<head>
    <title>Block Kyozai</title>
    <!-- BlocklyライブラリのCDNを読み込む -->
    <script src="https://unpkg.com/blockly"></script>
</head>
<body>
    <!-- ブロックの作業領域を表示するための要素 -->
    <div id="blocklyDiv" style="height: 400px; width: 600px;"></div>

    <!-- ツールボックスを定義 -->
    <xml id="toolbox" style="display: none;">
        <block type="controls_if"></block>
        <block type="logic_compare"></block>
        <!-- 他のブロックを追加 -->
        <!-- カスタムブロックを定義 -->
        <!------------------------------->
        <block type="custom_block"></block>
    </xml>

    <!-- Blocklyの初期化 -->
    <script>
        // Blocklyの初期化
        var workspace = Blockly.inject('blocklyDiv', {
            toolbox: document.getElementById('toolbox')  // ツールボックスの要素を指定
        });
///////////////////////////////////////////////////////////
         Blockly.Blocks['custom_block'] = {
            init: function() {
                this.jsonInit({
                    "type": "custom_block",
                    "message0": "Custom Block",
                    "previousStatement": null,
                    "nextStatement": null,
                    "colour": 230,
                    "tooltip": "This is a custom block."
                });
            }
        };

        / カスタムブロックのJavaScript生成
        Blockly.JavaScript['custom_block'] = function(block) {
            return '';
        };
////////////////////////////////////////////////////////////
        
        // ブロックが変更された際のコールバックを設定
        workspace.addChangeListener(updateCode);

        // 生成されたコードを表示するためのエリア
        var codeArea = document.getElementById('codeArea');

        // 生成されたコードを更新するコールバック関数
        function updateCode(event) {
            var code = Blockly.JavaScript.workspaceToCode(workspace);
            codeArea.textContent = code;
        }
    </script>

    <!-- 生成されたコードを表示するためのエリア -->
    <pre id="codeArea"></pre>
</body>

</html>

